<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /**
     * filter过滤函数
     * 要求获取nums中大于50的数
     * 回调函数会遍历nums中每一个数，传入回调函数，在回调函数中写判断逻辑，返回true则会被数组接收，false会被拒绝
     */
    const nums = [2, 3, 5, 1, 77, 55, 100, 200]
    let newNums = nums.filter(function (num) {
        if (num > 50) {
            return true;
        } else {
            return false;
        }
    });
    console.log("newNums:" + newNums);
    /**
     * 可以使用箭头函数简写
     */
    let newNums1 = nums.filter(num => num > 50);
    console.log("newNums1:" + newNums1);
    /**
     * map高阶函数
     * 要求将已经过滤的新数组每项乘以2
     * map函数同样会遍历数组每一项，传入回调函数为参数，num是map遍历的每一项，回调函数function返回值会被添加到新数组中
     */
    let newNums2 = nums.map(function (num) {
        return num * 2;
    });
    let newNums3 = nums.map(num => num * 2);
    console.log("newNums2:" + newNums2);
    console.log("newNums3:" + newNums3);
    /**
     * reduce高阶函数
     * 要求将nums的数组所有数累加
     * reduce函数同样会遍历数组每一项，传入回调函数和‘0’为参数，0表示回调函数中preValue初始值为0，回调函数中参数preValue是每一次回调函数function返回的值，currentValue是当前值
     * 例如数组为[154, 110, 200, 400],则回调函数第一次返回值为0+154=154，第二次preValue为154，返回值为154+110=264，以此类推直到遍历完成
     */
    let newNums4 = nums.reduce(function (preValue, currentValue) {
        return preValue + currentValue;
    }, 0);
    console.log("newNums4:" + newNums4)
    let newNums5 = nums.reduce((preValue, currentValue) => preValue + currentValue);
    console.log("newNums5:" + newNums5)
    /**
     * 以上三个函数综合使用(链式调用)
     */
    let result = nums.filter(num => num > 50).map(num => num * 2).reduce((preValue, currentValue) => preValue + currentValue)
    console.log("result:" + result);


</script>
</body>
</html>